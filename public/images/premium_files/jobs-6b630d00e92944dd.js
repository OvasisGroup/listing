(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8142],{6989:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/jobs",function(){return t(6379)}])},5963:function(e,s,t){"use strict";t(5893);var a=t(5675),c=t.n(a);s.Z=()=>{c()}},2128:function(e,s,t){"use strict";t(7294),t(8335),t(6273)},6379:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return Jobs}});var a=t(5893),c=t(6273),i=t(8036),d=t(7294),n=t(5963),r=t(1664),l=t.n(r);function AllJobs(e){let{items:s}=e,[t,r]=(0,d.useState)([]),[o,h]=(0,d.useState)(!0);return(0,d.useEffect)(()=>{let fetchData=async()=>{let e=(0,i.hJ)(c.db,"jobs"),s=(0,i.IO)(e,(0,i.b9)(1e4));try{let e=await (0,i.PL)(s,(0,i.Bt)()),t=[];e.forEach(e=>{var s;t.push({id:e.id,...e.data(),date_posted:null===(s=e.data().date_posted)||void 0===s?void 0:s.toDate().getTime()})}),r(t)}catch(e){console.log(e)}finally{h(!1)}};fetchData()},[]),(0,a.jsx)("div",{className:"category-sections",children:(0,a.jsxs)("div",{className:"category-content",children:[(0,a.jsxs)("div",{className:"category-left",children:[(0,a.jsx)("h2",{children:"Jobs that might fit your preference"}),(0,a.jsx)("p",{children:"Make Request"})]}),o?(0,a.jsx)(n.Z,{}):(0,a.jsx)("div",{className:"category-card",children:t.map(e=>(0,a.jsx)("div",{className:"cards","data-aos":"zoom-in",children:(0,a.jsxs)(l(),{href:"/jobs/".concat(e.id),children:[(0,a.jsxs)("div",{className:"jobtitlelong",children:[(0,a.jsxs)("h4",{className:"dtaeslong",children:["Posted On: ",new Date(e.date_posted).toDateString()]}),(0,a.jsx)("h3",{children:e.job_title}),(0,a.jsx)("p",{children:e.description}),(0,a.jsx)("h5",{children:e.category})]}),(0,a.jsxs)("div",{className:"bottomclass",children:[(0,a.jsxs)("div",{className:"estimates",children:["Estimated Budget: ",(0,a.jsxs)("span",{children:["KES. ",e.budget]})]}),(0,a.jsxs)("h5",{children:["Posted by: ",(0,a.jsx)("span",{children:e.postedby})]})]})]})},e.id))})]})})}t(6501);var o=t(5675),h=t.n(o);t(6770),t(8335),t(2128);var j=t(9828);t(3663);var u=t(3299),x=t(1163);function Jobs(){let{data:e}=(0,u.useSession)();(0,x.useRouter)();let[s,t]=(0,d.useState)([]);if((0,d.useEffect)(()=>{let fetchData=async()=>{let e=(0,j.hJ)(c.db,"jobs");try{let s=await (0,j.PL)(e,(0,j.Bt)()),a=s.docs.map(e=>{var s;return{id:e.id,...e.data(),date_posted:null===(s=e.data().date_posted)||void 0===s?void 0:s.toDate().getTime()}});t(a)}catch(e){console.error("Error fetching documents: ",e)}};fetchData()},[]),e)return(0,a.jsx)("section",{className:"premium",children:(0,a.jsxs)("div",{className:"job-content",children:[(0,a.jsxs)("div",{className:"job-left",children:[(0,a.jsxs)("div",{className:"job-search",children:[(0,a.jsx)(h(),{src:"/assets/images/search.svg",width:20,height:20,alt:"Plus",priority:!0,className:"imageplus"}),(0,a.jsx)("input",{type:"text",placeholder:"Search for Jobs"}),(0,a.jsx)("button",{children:"Search"})]}),(0,a.jsx)(AllJobs,{}),(0,a.jsx)("div",{className:"category-card",children:s.slice(0,50).map(e=>(0,a.jsx)("div",{className:"cards","data-aos":"zoom-in",children:(0,a.jsxs)(l(),{href:"/jobs/".concat(e.id),children:[(0,a.jsxs)("div",{className:"jobtitlelong",children:[(0,a.jsxs)("h4",{className:"dtaeslong",children:["Posted On: ",new Date(e.date_posted).toDateString()]}),(0,a.jsx)("h3",{children:e.job_title}),(0,a.jsx)("p",{children:e.description}),(0,a.jsx)("h5",{children:e.category})]}),(0,a.jsxs)("div",{className:"bottomclass",children:[(0,a.jsxs)("div",{className:"estimates",children:["Estimated Budget: ",(0,a.jsxs)("span",{children:["KES. ",e.budget]})]}),(0,a.jsxs)("h5",{children:["Posted by: ",(0,a.jsx)("span",{children:e.postedby})]})]})]})},e.id))})]}),(0,a.jsx)("div",{className:"jobs-right",children:(0,a.jsxs)("div",{className:"jobs-right-content-header",children:[(0,a.jsx)(l(),{href:"/",passHref:!0}),(0,a.jsx)("p",{children:"Update Profile"}),(0,a.jsx)("h4",{children:e.user.email})]})})]})})}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=6989)}),_N_E=e.O()}]);